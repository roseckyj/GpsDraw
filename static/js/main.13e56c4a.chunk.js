(this["webpackJsonpgps-draw"]=this["webpackJsonpgps-draw"]||[]).push([[0],{19:function(t,e,a){t.exports=a(28)},27:function(t,e,a){},28:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(15),s=a.n(r),i=a(7),l=a(8),c=a(12),p=a(10),u=(a(24),a(18)),h=a(32),m=a(33),d=a(34),g=a(30),v=a(31),b={snehulak:[[49.560309,15.941284],[49.560348,15.941332],[49.560313,15.941405],[49.560272,15.94148],[49.560335,15.941555],[49.560268,15.941493],[49.560253,15.941542],[49.56024,15.941636],[49.560203,15.941697],[49.560152,15.941708],[49.560162,15.941787],[49.560147,15.941896],[49.560118,15.941973],[49.560065,15.942026],[49.560001,15.942051],[49.55995,15.942053],[49.559979,15.942183],[49.559981,15.94231],[49.559973,15.942403],[49.55995,15.942459],[49.559921,15.942518],[49.559875,15.942572],[49.55983,15.942609],[49.559782,15.942637],[49.55974,15.942641],[49.55969,15.942628],[49.55964,15.942602],[49.5596,15.942564],[49.559568,15.942525],[49.559535,15.942475],[49.55951,15.942409],[49.559496,15.942334],[49.559495,15.942252],[49.559501,15.942176],[49.55952,15.942074],[49.559562,15.941984],[49.559605,15.941914],[49.559653,15.941868],[49.559707,15.941851],[49.559767,15.941849],[49.559822,15.941865],[49.559824,15.9418],[49.559826,15.941708],[49.559845,15.941631],[49.559879,15.941574],[49.559928,15.941526],[49.559987,15.941509],[49.560015,15.941511],[49.560007,15.941441],[49.560026,15.941358],[49.560083,15.941298],[49.56012,15.941283],[49.560056,15.941206],[49.560123,15.941272],[49.560158,15.941201],[49.56019,15.941133],[49.560231,15.941182],[49.560272,15.941236],[49.560309,15.941284]],kapr:[[49.560415,15.940154],[49.560429,15.940131],[49.560448,15.940121],[49.560474,15.940113],[49.560502,15.940104],[49.560523,15.940091],[49.560547,15.940084],[49.56057,15.940083],[49.5606,15.940085],[49.560625,15.940096],[49.560649,15.940105],[49.560646,15.940076],[49.560646,15.940041],[49.560644,15.940001],[49.560662,15.940002],[49.560691,15.940007],[49.560714,15.940009],[49.56073,15.940014],[49.560757,15.940029],[49.560773,15.940041],[49.560796,15.940058],[49.560813,15.94007],[49.560829,15.940084],[49.560846,15.940105],[49.560866,15.940132],[49.560879,15.940155],[49.560896,15.940187],[49.560909,15.940217],[49.560919,15.940242],[49.560905,15.94026],[49.560892,15.940278],[49.560869,15.940301],[49.560879,15.94032],[49.560889,15.940344],[49.560902,15.94038],[49.560916,15.940414],[49.560925,15.940455],[49.560935,15.940494],[49.560942,15.94052],[49.560948,15.940551],[49.560953,15.940583],[49.560959,15.940623],[49.560962,15.940662],[49.560965,15.94069],[49.560988,15.940689],[49.561013,15.940687],[49.561039,15.940685],[49.56106,15.940685],[49.561084,15.940702],[49.5611,15.940709],[49.561106,15.940733],[49.561091,15.94075],[49.561056,15.940757],[49.561029,15.940762],[49.561001,15.940783],[49.560981,15.940813],[49.56097,15.940856],[49.560966,15.940899],[49.56096,15.940939],[49.560956,15.940974],[49.560958,15.941009],[49.560956,15.941039],[49.560939,15.941024],[49.560925,15.940988],[49.560907,15.94095],[49.5609,15.940913],[49.560891,15.940866],[49.560883,15.940821],[49.560868,15.940827],[49.560837,15.940832],[49.56081,15.940834],[49.560786,15.940835],[49.560767,15.940835],[49.560738,15.940832],[49.560715,15.940825],[49.560685,15.940819],[49.560657,15.940813],[49.560664,15.94085],[49.560657,15.940878],[49.56063,15.940907],[49.560591,15.940891],[49.56058,15.940871],[49.560577,15.940819],[49.560596,15.940773],[49.560526,15.940728],[49.560489,15.940683],[49.560473,15.940651],[49.560453,15.940632],[49.560428,15.940592],[49.560389,15.940596],[49.560363,15.940602],[49.56034,15.940576],[49.560333,15.940529],[49.560357,15.940501],[49.560396,15.940489],[49.560382,15.940458],[49.56037,15.940419],[49.56037,15.940378],[49.560366,15.940347],[49.560365,15.940317],[49.560369,15.94026],[49.560348,15.940273],[49.560322,15.940251],[49.560331,15.940222],[49.560345,15.940203],[49.560354,15.940178],[49.560354,15.940155],[49.560366,15.940136],[49.560386,15.940121],[49.560402,15.940168]],stromek:[[49.560172,15.941467],[49.560151,15.941472],[49.560123,15.941475],[49.560097,15.94148],[49.560069,15.941485],[49.560041,15.941488],[49.560011,15.941491],[49.559979,15.941501],[49.559938,15.941509],[49.559959,15.941542],[49.559977,15.941568],[49.559999,15.941603],[49.560015,15.941638],[49.559992,15.941641],[49.559959,15.941646],[49.559932,15.941654],[49.559898,15.94166],[49.559862,15.941665],[49.559827,15.941676],[49.559804,15.941678],[49.559768,15.941684],[49.55979,15.941713],[49.559812,15.94174],[49.559838,15.941778],[49.55986,15.941815],[49.55983,15.941831],[49.559808,15.941837],[49.559787,15.941847],[49.559759,15.941858],[49.55973,15.941872],[49.559705,15.94188],[49.55967,15.941882],[49.559643,15.941893],[49.559611,15.941896],[49.559636,15.941928],[49.55966,15.94196],[49.559683,15.941995],[49.559705,15.942024],[49.559733,15.94207],[49.559719,15.9421],[49.559698,15.942129],[49.559683,15.942159],[49.559667,15.94218],[49.559645,15.94221],[49.559663,15.942234],[49.559686,15.942266],[49.559707,15.942298],[49.559724,15.942319],[49.559742,15.942293],[49.559757,15.942266],[49.559777,15.942239],[49.55979,15.942212],[49.559808,15.942185],[49.559824,15.94221],[49.559845,15.942247],[49.559871,15.942287],[49.559889,15.942317],[49.559914,15.942346],[49.559936,15.942381],[49.559959,15.942419],[49.559958,15.942365],[49.559959,15.942319],[49.559959,15.942274],[49.559963,15.942236],[49.559965,15.942193],[49.559968,15.942148],[49.559968,15.942089],[49.559968,15.942046],[49.559968,15.942006],[49.559987,15.942038],[49.560005,15.94207],[49.560027,15.942102],[49.560041,15.942126],[49.560053,15.942159],[49.560055,15.942113],[49.56006,15.942059],[49.560064,15.942022],[49.560065,15.941984],[49.560069,15.941939],[49.560072,15.941893],[49.560072,15.941858],[49.560074,15.941804],[49.560079,15.941751],[49.560097,15.941778],[49.560117,15.941804],[49.560126,15.941829],[49.560142,15.94185],[49.560146,15.941813],[49.560152,15.941764],[49.560158,15.941727],[49.56016,15.941686],[49.560166,15.941646],[49.560173,15.941593],[49.560178,15.941531],[49.56018,15.941469]],hvezda:[[49.560189,15.941889],[49.56017,15.9419],[49.560149,15.941913],[49.560126,15.941927],[49.560102,15.941943],[49.560083,15.941961],[49.560064,15.941975],[49.560036,15.941991],[49.560036,15.94202],[49.560036,15.94205],[49.560036,15.942093],[49.560036,15.942146],[49.560036,15.942176],[49.560034,15.942214],[49.560031,15.942259],[49.560015,15.942238],[49.560001,15.942214],[49.559987,15.942187],[49.559971,15.942155],[49.559963,15.942138],[49.559945,15.942109],[49.559932,15.942082],[49.559912,15.942061],[49.559885,15.94209],[49.559857,15.942112],[49.559839,15.94213],[49.559816,15.942149],[49.559798,15.942168],[49.559778,15.942181],[49.559747,15.942214],[49.559757,15.942171],[49.559769,15.942133],[49.55978,15.942098],[49.559787,15.942053],[49.559796,15.942012],[49.559804,15.941969],[49.55982,15.941935],[49.559803,15.941905],[49.55979,15.941881],[49.559777,15.941851],[49.559766,15.941825],[49.559751,15.941792],[49.559735,15.94176],[49.559712,15.941728],[49.55974,15.941731],[49.559769,15.941741],[49.559801,15.94175],[49.559836,15.941758],[49.559863,15.94176],[49.559889,15.941768],[49.5599,15.941744],[49.55991,15.941712],[49.559924,15.941682],[49.559936,15.941642],[49.559949,15.941607],[49.559965,15.941564],[49.559979,15.941516],[49.559987,15.941562],[49.559989,15.941589],[49.559994,15.941621],[49.559999,15.941658],[49.560005,15.941691],[49.560013,15.941741],[49.56002,15.941795],[49.560044,15.941806],[49.560069,15.941819],[49.560099,15.94183],[49.560121,15.941835],[49.560147,15.941846],[49.560166,15.941849],[49.560185,15.941859]]};function f(t,e){var a=E(t[1]),n=E(t[0]),o=E(e[1]),r=E(e[0]),s=r-n,i=o-a,l=Math.pow(Math.sin(s/2),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(i/2),2);return 6371*(2*Math.asin(Math.sqrt(l)))*1e3}function E(t){return t*Math.PI/180}var k=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={center:t.shape[0],zoom:17,location:null,points:[],pointId:0,drawing:!1,wasCloseToStart:!1,error:null},t.requestLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.gotLocation,(function(){t.setState({error:"P\u0159\xedstup k poloze byl odep\u0159en"})})):t.setState({error:"Za\u0159\xedzen\xed nepodporuje sledov\xe1n\xed polohy"})},t.gotLocation=function(e){t.requestLocation()},t}return Object(l.a)(a,[{key:"positionChanged",value:function(t){var e={};this.state.drawing&&(this.state.points.push(t),e.points=Object(u.a)(this.state.points),this.state.pointId<this.shape.length&&f(t,this.shape[this.state.pointId])<10&&(e.pointId=this.state.pointId+1)),!this.state.wasCloseToStart&&f(this.shape[0],t)<=10&&(e.wasCloseToStart=!0),e.location=t,this.setState(e)}},{key:"shape",get:function(){var t=window.location.pathname.split("/"),e=t[t.length-1];return b[e]?b.hvezda:(this.setState({error:"Vybran\xfd tvar neexistuje"}),[])}},{key:"componentDidMount",value:function(){this.requestLocation()}},{key:"render",value:function(){var t=this;return this.state.error?o.a.createElement("div",{className:"errorWrapper"},o.a.createElement("div",{className:"alert alert-danger",role:"alert"},o.a.createElement("p",null,"Vypad\xe1 to, \u017ee se n\u011bco nepovedlo. Pros\xedm obnovte str\xe1nku a zkuste to znovu."),o.a.createElement("p",null,o.a.createElement("strong",null,this.state.error)),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return window.location.reload()}},"Obnovit str\xe1nku"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{viewport:{center:this.state.center,zoom:this.state.zoom},zoomControl:!1,onmousemove:function(e){t.positionChanged([e.latlng.lat,e.latlng.lng])},onViewportChange:function(e){t.setState({center:e.center,zoom:e.zoom})},maxZoom:20},o.a.createElement(m.a,{position:"topright"}),o.a.createElement(d.a,{url:"https://mapserver.mapy.cz/ophoto-m/{z}-{x}-{y}",opacity:.3}),o.a.createElement(g.a,{color:"black",positions:this.shape.filter((function(e,a){return a<=t.state.pointId-4}))}),o.a.createElement(g.a,{color:"black",positions:this.shape.filter((function(e,a){return a<=t.state.pointId&&a>=t.state.pointId-4})),className:"dashed"}),o.a.createElement(g.a,{color:"#7579EE",positions:this.state.points,opacity:.2,weight:30}),this.state.location&&o.a.createElement(v.a,{center:this.state.location,radius:15,color:"transparent",fillColor:"#7579EE",fillOpacity:.5}),0===this.state.pointId&&o.a.createElement(v.a,{center:this.shape[this.state.pointId],radius:15,color:"transparent",fillColor:"black",fillOpacity:.8}),o.a.createElement("img",{src:"/gps-draw/assets/ostrovy-logo.png",alt:"Ostrovy pohody",className:"logoOp"}),o.a.createElement("img",{src:"/gps-draw/assets/duha-logo.png",alt:"Duha AZ",className:"logoDuha"})),o.a.createElement("div",{className:"notification"},this.state.drawing&&this.state.pointId===this.shape.length&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"U\u017e jsi skoro u c\xedle! A\u017e bude\u0161 cht\xedt ukon\u010dit tvar, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({drawing:!1})}},"Dokon\u010dit obrazec")),!this.state.drawing&&0===this.state.pointId&&this.state.wasCloseToStart&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"V\xedtej! U\u017e jsi skoro na startu. A\u017e bude\u0161 cht\xedt za\u010d\xedt, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({drawing:!0})}},"Za\u010d\xedt odkr\xfdvat"))))}}]),a}(o.a.Component),y=(a(27),function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(k,null))}}]),a}(o.a.Component));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.13e56c4a.chunk.js.map