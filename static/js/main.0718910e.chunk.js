(this["webpackJsonpgps-draw"]=this["webpackJsonpgps-draw"]||[]).push([[0],{19:function(t,e,o){t.exports=o(27)},26:function(t,e,o){},27:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),i=o(15),s=o.n(i),r=o(7),c=o(8),l=o(12),p=o(10),h=o(18),u=o(31),d=o(32),m=o(33),g=o(29),f=o(30);function v(t){return t*Math.PI/180}var y=function(t){Object(l.a)(o,t);var e=Object(p.a)(o);function o(){var t;Object(r.a)(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={center:[49.244273,16.586669],zoom:17,location:null,points:[],pointId:0},t.shape=[[49.244273,16.586669],[49.244458,16.586578],[49.244535,16.586417],[49.244641,16.585907],[49.244393,16.585559],[49.244118,16.584486],[49.243923,16.583805],[49.24375,16.583177],[49.24358,16.582571],[49.243449,16.582075],[49.24354,16.581793],[49.2097939,16.5987931]],t.requestLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.gotLocation,(function(){console.error("Location error!")})):console.error("Geolocation is not supported by your browser")},t.gotLocation=function(e){t.positionChanged([e.coords.latitude,e.coords.longitude]),t.requestLocation()},t}return Object(c.a)(o,[{key:"drawEnabled",get:function(){return this.state.pointId<this.shape.length&&this.state.pointId>0}},{key:"positionChanged",value:function(t){var e={};this.drawEnabled&&(this.state.points.push(t),e.points=Object(h.a)(this.state.points)),this.state.pointId<this.shape.length&&function(t,e){var o=v(t[1]),n=v(t[0]),a=v(e[1]),i=v(e[0]),s=i-n,r=a-o,c=Math.pow(Math.sin(s/2),2)+Math.cos(n)*Math.cos(i)*Math.pow(Math.sin(r/2),2);return 6371*(2*Math.asin(Math.sqrt(c)))*1e3}(t,this.shape[this.state.pointId])<5&&(e.pointId=this.state.pointId+1),e.location=t,this.setState(e)}},{key:"componentDidMount",value:function(){this.requestLocation()}},{key:"render",value:function(){var t=this;return a.a.createElement(u.a,{viewport:{center:this.state.center,zoom:this.state.zoom},zoomControl:!1,onmousemove:function(t){},onViewportChange:function(e){t.setState({center:e.center,zoom:e.zoom})},maxZoom:20},a.a.createElement(d.a,{position:"topright"}),a.a.createElement(m.a,{url:"https://mapserver.mapy.cz/ophoto-m/{z}-{x}-{y}",opacity:.3}),a.a.createElement(g.a,{color:"black",positions:this.state.points}),this.state.location&&a.a.createElement(f.a,{center:this.state.location,radius:10,color:"transparent",fillColor:"#7579EE",fillOpacity:.5}),this.state.pointId<this.shape.length&&a.a.createElement(f.a,{center:this.shape[this.state.pointId],radius:10,color:"transparent",fillColor:"black",fillOpacity:.5}),a.a.createElement("img",{src:"/GpsDraw/assets/ostrovy-logo.png",alt:"Ostrovy pohody",className:"logoOp"}),a.a.createElement("img",{src:"/GpsDraw/assets/duha-logo.png",alt:"Duha AZ",className:"logoDuha"}))}}]),o}(a.a.Component),b=(o(26),function(t){Object(l.a)(o,t);var e=Object(p.a)(o);function o(){return Object(r.a)(this,o),e.apply(this,arguments)}return Object(c.a)(o,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement(y,null)}}]),o}(a.a.Component));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(b,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.0718910e.chunk.js.map