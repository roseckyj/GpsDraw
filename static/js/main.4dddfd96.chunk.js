(this["webpackJsonpgps-draw"]=this["webpackJsonpgps-draw"]||[]).push([[0],{19:function(t,e,a){t.exports=a(28)},27:function(t,e,a){},28:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(15),i=a.n(r),s=a(7),l=a(8),c=a(12),u=a(10),p=(a(24),a(18)),h=a(32),m=a(33),d=a(34),g=a(30),f=a(31),E=[[49.560189,15.941889],[49.56017,15.9419],[49.560149,15.941913],[49.560126,15.941927],[49.560102,15.941943],[49.560083,15.941961],[49.560064,15.941975],[49.560036,15.941991],[49.560036,15.94202],[49.560036,15.94205],[49.560036,15.942093],[49.560036,15.942146],[49.560036,15.942176],[49.560034,15.942214],[49.560031,15.942259],[49.560015,15.942238],[49.560001,15.942214],[49.559987,15.942187],[49.559971,15.942155],[49.559963,15.942138],[49.559945,15.942109],[49.559932,15.942082],[49.559912,15.942061],[49.559885,15.94209],[49.559857,15.942112],[49.559839,15.94213],[49.559816,15.942149],[49.559798,15.942168],[49.559778,15.942181],[49.559747,15.942214],[49.559757,15.942171],[49.559769,15.942133],[49.55978,15.942098],[49.559787,15.942053],[49.559796,15.942012],[49.559804,15.941969],[49.55982,15.941935],[49.559803,15.941905],[49.55979,15.941881],[49.559777,15.941851],[49.559766,15.941825],[49.559751,15.941792],[49.559735,15.94176],[49.559712,15.941728],[49.55974,15.941731],[49.559769,15.941741],[49.559801,15.94175],[49.559836,15.941758],[49.559863,15.94176],[49.559889,15.941768],[49.5599,15.941744],[49.55991,15.941712],[49.559924,15.941682],[49.559936,15.941642],[49.559949,15.941607],[49.559965,15.941564],[49.559979,15.941516],[49.559987,15.941562],[49.559989,15.941589],[49.559994,15.941621],[49.559999,15.941658],[49.560005,15.941691],[49.560013,15.941741],[49.56002,15.941795],[49.560044,15.941806],[49.560069,15.941819],[49.560099,15.94183],[49.560121,15.941835],[49.560147,15.941846],[49.560166,15.941849],[49.560185,15.941859]];function y(t,e){var a=k(t[1]),n=k(t[0]),o=k(e[1]),r=k(e[0]),i=r-n,s=o-a,l=Math.pow(Math.sin(i/2),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(s/2),2);return 6371*(2*Math.asin(Math.sqrt(l)))*1e3}function k(t){return t*Math.PI/180}var v=function(t){Object(c.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={center:t.shape[0],zoom:17,location:null,points:[],pointId:0,drawing:!1,wasCloseToStart:!1},t.requestLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.gotLocation,(function(){console.error("Location error!")})):console.error("Geolocation is not supported by your browser")},t.gotLocation=function(e){t.requestLocation()},t}return Object(l.a)(a,[{key:"positionChanged",value:function(t){var e={};this.state.drawing&&(this.state.points.push(t),e.points=Object(p.a)(this.state.points),this.state.pointId<this.shape.length&&y(t,this.shape[this.state.pointId])<10&&(e.pointId=this.state.pointId+1)),!this.state.wasCloseToStart&&y(this.shape[0],t)<=10&&(e.wasCloseToStart=!0),e.location=t,this.setState(e)}},{key:"shape",get:function(){return E}},{key:"componentDidMount",value:function(){this.requestLocation()}},{key:"render",value:function(){var t=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{viewport:{center:this.state.center,zoom:this.state.zoom},zoomControl:!1,onmousemove:function(e){t.positionChanged([e.latlng.lat,e.latlng.lng])},onViewportChange:function(e){t.setState({center:e.center,zoom:e.zoom})},maxZoom:20},o.a.createElement(m.a,{position:"topright"}),o.a.createElement(d.a,{url:"https://mapserver.mapy.cz/ophoto-m/{z}-{x}-{y}",opacity:.3}),o.a.createElement(g.a,{color:"black",positions:this.shape.filter((function(e,a){return a<=t.state.pointId})),markerEnd:"url(#arrowhead)"}),o.a.createElement(g.a,{color:"#7579EE",positions:this.state.points,opacity:.2,weight:30}),this.state.location&&o.a.createElement(f.a,{center:this.state.location,radius:15,color:"transparent",fillColor:"#7579EE",fillOpacity:.5}),0===this.state.pointId&&o.a.createElement(f.a,{center:this.shape[this.state.pointId],radius:15,color:"transparent",fillColor:"black",fillOpacity:.8}),o.a.createElement("img",{src:"/gps-draw/assets/ostrovy-logo.png",alt:"Ostrovy pohody",className:"logoOp"}),o.a.createElement("img",{src:"/gps-draw/assets/duha-logo.png",alt:"Duha AZ",className:"logoDuha"})),o.a.createElement("div",{className:"notification"},this.state.drawing&&this.state.pointId===this.shape.length&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"U\u017e jsi skoro u c\xedle! A\u017e bude\u0161 cht\xedt ukon\u010dit tvar, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({drawing:!1})}},"Dokon\u010dit obrazec")),!this.state.drawing&&0===this.state.pointId&&this.state.wasCloseToStart&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"V\xedtej! U\u017e jsi skoro na startu. A\u017e bude\u0161 cht\xedt za\u010d\xedt, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({drawing:!0})}},"Za\u010d\xedt odkr\xfdvat"))))}}]),a}(o.a.Component),b=(a(27),function(t){Object(c.a)(a,t);var e=Object(u.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,null),o.a.createElement("svg",null,o.a.createElement("defs",null,o.a.createElement("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},o.a.createElement("polygon",{points:"0 0, 10 3.5, 0 7"})))))}}]),a}(o.a.Component));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4dddfd96.chunk.js.map