(this["webpackJsonpgps-draw"]=this["webpackJsonpgps-draw"]||[]).push([[0],{31:function(t,e,a){t.exports=a(58)},57:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(26),s=a.n(r),i=a(10),l=a(11),c=a(15),p=a(13),u=(a(36),a(30)),m=a(27),h=a.n(m),d=a(62),g=a(63),v=a(64),k=a(60),b=a(61),f={snehulak:[[49.56083,15.940229],[49.560819,15.940218],[49.560805,15.940198],[49.560788,15.940178],[49.560773,15.940159],[49.560758,15.940144],[49.560744,15.940128],[49.560722,15.940121],[49.560699,15.940113],[49.560673,15.940103],[49.560653,15.940104],[49.560627,15.940109],[49.560608,15.940115],[49.56059,15.940123],[49.560575,15.940138],[49.560552,15.940162],[49.560539,15.940186],[49.560524,15.94021],[49.560504,15.940249],[49.560491,15.940276],[49.560479,15.940301],[49.560468,15.940332],[49.560461,15.940356],[49.560453,15.940384],[49.560453,15.940425],[49.560453,15.940462],[49.560451,15.940502],[49.56046,15.940536],[49.560468,15.940564],[49.560478,15.9406],[49.560485,15.94062],[49.560502,15.940657],[49.56052,15.940693],[49.560538,15.940717],[49.560561,15.94073],[49.56059,15.940754],[49.560608,15.940777],[49.560634,15.940789],[49.560659,15.940803],[49.560685,15.940824],[49.560687,15.940868],[49.560694,15.940891],[49.560705,15.940921],[49.560722,15.940941],[49.560749,15.940935],[49.560769,15.940919],[49.560767,15.940882],[49.560761,15.940842],[49.560776,15.940846],[49.560809,15.94084],[49.560832,15.94083],[49.560854,15.940816],[49.560851,15.940859],[49.560863,15.940899],[49.560874,15.940926],[49.560901,15.940958],[49.560934,15.94099],[49.560957,15.940998],[49.56098,15.940996],[49.561015,15.940978],[49.561033,15.940953],[49.561053,15.940934],[49.561047,15.940958],[49.561039,15.940985],[49.561026,15.941031],[49.561042,15.941049],[49.561053,15.941025],[49.561059,15.941],[49.561068,15.940973],[49.561076,15.94095],[49.561089,15.940965],[49.561106,15.940978],[49.561123,15.94099],[49.561141,15.941007],[49.561156,15.940974],[49.56117,15.940941],[49.561181,15.940911],[49.56119,15.940889],[49.561145,15.94085],[49.561127,15.940832],[49.561139,15.940804],[49.56115,15.94078],[49.561159,15.940754],[49.561133,15.940733],[49.561127,15.940746],[49.56112,15.940766],[49.561112,15.940784],[49.561101,15.940805],[49.561101,15.940738],[49.561094,15.940709],[49.561082,15.940685],[49.561063,15.940652],[49.561041,15.940627],[49.561023,15.940624],[49.561006,15.940615],[49.560974,15.94061],[49.560948,15.940622],[49.560925,15.940626],[49.560931,15.940599],[49.56094,15.940553],[49.56095,15.940518],[49.560943,15.940462],[49.560942,15.94043],[49.560939,15.940402],[49.560968,15.940394],[49.56098,15.94037],[49.560978,15.940336],[49.560977,15.940309],[49.56096,15.940286],[49.560927,15.940285],[49.560897,15.940315],[49.560883,15.940288],[49.560868,15.940278],[49.560858,15.940269],[49.560846,15.940264]],kapr:[[49.560415,15.940154],[49.560429,15.940131],[49.560448,15.940121],[49.560474,15.940113],[49.560502,15.940104],[49.560523,15.940091],[49.560547,15.940084],[49.56057,15.940083],[49.5606,15.940085],[49.560625,15.940096],[49.560649,15.940105],[49.560646,15.940076],[49.560646,15.940041],[49.560644,15.940001],[49.560662,15.940002],[49.560691,15.940007],[49.560714,15.940009],[49.56073,15.940014],[49.560757,15.940029],[49.560773,15.940041],[49.560796,15.940058],[49.560813,15.94007],[49.560829,15.940084],[49.560846,15.940105],[49.560866,15.940132],[49.560879,15.940155],[49.560896,15.940187],[49.560909,15.940217],[49.560919,15.940242],[49.560905,15.94026],[49.560892,15.940278],[49.560869,15.940301],[49.560879,15.94032],[49.560889,15.940344],[49.560902,15.94038],[49.560916,15.940414],[49.560925,15.940455],[49.560935,15.940494],[49.560942,15.94052],[49.560948,15.940551],[49.560953,15.940583],[49.560959,15.940623],[49.560962,15.940662],[49.560965,15.94069],[49.560988,15.940689],[49.561013,15.940687],[49.561039,15.940685],[49.56106,15.940685],[49.561084,15.940702],[49.5611,15.940709],[49.561106,15.940733],[49.561091,15.94075],[49.561056,15.940757],[49.561029,15.940762],[49.561001,15.940783],[49.560981,15.940813],[49.56097,15.940856],[49.560966,15.940899],[49.56096,15.940939],[49.560956,15.940974],[49.560958,15.941009],[49.560956,15.941039],[49.560939,15.941024],[49.560925,15.940988],[49.560907,15.94095],[49.5609,15.940913],[49.560891,15.940866],[49.560883,15.940821],[49.560868,15.940827],[49.560837,15.940832],[49.56081,15.940834],[49.560786,15.940835],[49.560767,15.940835],[49.560738,15.940832],[49.560715,15.940825],[49.560685,15.940819],[49.560657,15.940813],[49.560664,15.94085],[49.560657,15.940878],[49.56063,15.940907],[49.560591,15.940891],[49.56058,15.940871],[49.560577,15.940819],[49.560596,15.940773],[49.560526,15.940728],[49.560489,15.940683],[49.560473,15.940651],[49.560453,15.940632],[49.560428,15.940592],[49.560389,15.940596],[49.560363,15.940602],[49.56034,15.940576],[49.560333,15.940529],[49.560357,15.940501],[49.560396,15.940489],[49.560382,15.940458],[49.56037,15.940419],[49.56037,15.940378],[49.560366,15.940347],[49.560365,15.940317],[49.560369,15.94026],[49.560348,15.940273],[49.560322,15.940251],[49.560331,15.940222],[49.560345,15.940203],[49.560354,15.940178],[49.560354,15.940155],[49.560366,15.940136],[49.560386,15.940121],[49.560402,15.940168]],stromek:[[49.560172,15.941467],[49.560151,15.941472],[49.560123,15.941475],[49.560097,15.94148],[49.560069,15.941485],[49.560041,15.941488],[49.560011,15.941491],[49.559979,15.941501],[49.559938,15.941509],[49.559959,15.941542],[49.559977,15.941568],[49.559999,15.941603],[49.560015,15.941638],[49.559992,15.941641],[49.559959,15.941646],[49.559932,15.941654],[49.559898,15.94166],[49.559862,15.941665],[49.559827,15.941676],[49.559804,15.941678],[49.559768,15.941684],[49.55979,15.941713],[49.559812,15.94174],[49.559838,15.941778],[49.55986,15.941815],[49.55983,15.941831],[49.559808,15.941837],[49.559787,15.941847],[49.559759,15.941858],[49.55973,15.941872],[49.559705,15.94188],[49.55967,15.941882],[49.559643,15.941893],[49.559611,15.941896],[49.559636,15.941928],[49.55966,15.94196],[49.559683,15.941995],[49.559705,15.942024],[49.559733,15.94207],[49.559719,15.9421],[49.559698,15.942129],[49.559683,15.942159],[49.559667,15.94218],[49.559645,15.94221],[49.559663,15.942234],[49.559686,15.942266],[49.559707,15.942298],[49.559724,15.942319],[49.559742,15.942293],[49.559757,15.942266],[49.559777,15.942239],[49.55979,15.942212],[49.559808,15.942185],[49.559824,15.94221],[49.559845,15.942247],[49.559871,15.942287],[49.559889,15.942317],[49.559914,15.942346],[49.559936,15.942381],[49.559959,15.942419],[49.559958,15.942365],[49.559959,15.942319],[49.559959,15.942274],[49.559963,15.942236],[49.559965,15.942193],[49.559968,15.942148],[49.559968,15.942089],[49.559968,15.942046],[49.559968,15.942006],[49.559987,15.942038],[49.560005,15.94207],[49.560027,15.942102],[49.560041,15.942126],[49.560053,15.942159],[49.560055,15.942113],[49.56006,15.942059],[49.560064,15.942022],[49.560065,15.941984],[49.560069,15.941939],[49.560072,15.941893],[49.560072,15.941858],[49.560074,15.941804],[49.560079,15.941751],[49.560097,15.941778],[49.560117,15.941804],[49.560126,15.941829],[49.560142,15.94185],[49.560146,15.941813],[49.560152,15.941764],[49.560158,15.941727],[49.56016,15.941686],[49.560166,15.941646],[49.560173,15.941593],[49.560178,15.941531],[49.56018,15.941469]],hvezda:[[49.560189,15.941889],[49.56017,15.9419],[49.560149,15.941913],[49.560126,15.941927],[49.560102,15.941943],[49.560083,15.941961],[49.560064,15.941975],[49.560036,15.941991],[49.560036,15.94202],[49.560036,15.94205],[49.560036,15.942093],[49.560036,15.942146],[49.560036,15.942176],[49.560034,15.942214],[49.560031,15.942259],[49.560015,15.942238],[49.560001,15.942214],[49.559987,15.942187],[49.559971,15.942155],[49.559963,15.942138],[49.559945,15.942109],[49.559932,15.942082],[49.559912,15.942061],[49.559885,15.94209],[49.559857,15.942112],[49.559839,15.94213],[49.559816,15.942149],[49.559798,15.942168],[49.559778,15.942181],[49.559747,15.942214],[49.559757,15.942171],[49.559769,15.942133],[49.55978,15.942098],[49.559787,15.942053],[49.559796,15.942012],[49.559804,15.941969],[49.55982,15.941935],[49.559803,15.941905],[49.55979,15.941881],[49.559777,15.941851],[49.559766,15.941825],[49.559751,15.941792],[49.559735,15.94176],[49.559712,15.941728],[49.55974,15.941731],[49.559769,15.941741],[49.559801,15.94175],[49.559836,15.941758],[49.559863,15.94176],[49.559889,15.941768],[49.5599,15.941744],[49.55991,15.941712],[49.559924,15.941682],[49.559936,15.941642],[49.559949,15.941607],[49.559965,15.941564],[49.559979,15.941516],[49.559987,15.941562],[49.559989,15.941589],[49.559994,15.941621],[49.559999,15.941658],[49.560005,15.941691],[49.560013,15.941741],[49.56002,15.941795],[49.560044,15.941806],[49.560069,15.941819],[49.560099,15.94183],[49.560121,15.941835],[49.560147,15.941846],[49.560166,15.941849],[49.560185,15.941859]],zvonek:[[49.560211,15.941315],[49.560239,15.941385],[49.560245,15.941446],[49.560249,15.941508],[49.560248,15.941562],[49.56024,15.941607],[49.560235,15.94165],[49.560221,15.941696],[49.560207,15.941731],[49.560188,15.941768],[49.560172,15.9418],[49.560155,15.941838],[49.560138,15.941876],[49.560115,15.941916],[49.560103,15.941945],[49.560079,15.941986],[49.560063,15.942028],[49.560056,15.942053],[49.560047,15.94209],[49.560037,15.942122],[49.56003,15.942163],[49.560021,15.942211],[49.56003,15.942254],[49.560038,15.942315],[49.560014,15.942294],[49.559995,15.942264],[49.559969,15.942238],[49.559948,15.942211],[49.559927,15.942184],[49.559906,15.942157],[49.559891,15.942141],[49.559866,15.942117],[49.559861,15.942171],[49.559842,15.942214],[49.559819,15.942227],[49.559795,15.942235],[49.559769,15.942219],[49.559748,15.942163],[49.559743,15.942125],[49.559753,15.942069],[49.559775,15.942047],[49.559795,15.942037],[49.559771,15.94201],[49.559751,15.94198],[49.559731,15.941953],[49.55971,15.941927],[49.559685,15.941892],[49.559669,15.94187],[49.55964,15.941835],[49.559614,15.941806],[49.559652,15.941803],[49.559684,15.941798],[49.559716,15.941774],[49.559743,15.941766],[49.55976,15.941731],[49.559784,15.941699],[49.559798,15.941669],[49.559812,15.941634],[49.55983,15.941589],[49.559854,15.941543],[49.559882,15.941495],[49.559903,15.941465],[49.559936,15.941417],[49.559956,15.941398],[49.559973,15.941369],[49.559995,15.941339],[49.560023,15.941318],[49.560054,15.941299],[49.560093,15.941285],[49.560129,15.94128],[49.56016,15.94128],[49.5602,15.94131]],test_brno:[[49.209581,16.598948],[49.209549,16.59897],[49.2095,16.598991],[49.209462,16.599013],[49.209444,16.59893],[49.20943,16.598863],[49.209411,16.598769],[49.209398,16.598699],[49.209384,16.598635],[49.209369,16.598562],[49.209355,16.59849],[49.209392,16.598444],[49.209409,16.598412],[49.209437,16.598369],[49.209498,16.59834],[49.209553,16.598313],[49.209609,16.598281],[49.209663,16.598246],[49.209708,16.598216],[49.209747,16.598192],[49.209777,16.598173],[49.209826,16.598144],[49.209868,16.598122],[49.209913,16.598098],[49.209944,16.598082],[49.209984,16.598061],[49.210042,16.598026],[49.210094,16.597994],[49.210133,16.597969],[49.210156,16.597956],[49.210184,16.597937],[49.210215,16.597916],[49.210245,16.597894],[49.210298,16.597865],[49.210343,16.597838],[49.210379,16.597814],[49.210411,16.597795],[49.210448,16.597771],[49.210471,16.597757],[49.210487,16.597811],[49.210496,16.597857],[49.210527,16.597975],[49.210551,16.598069],[49.210571,16.598136],[49.210592,16.598224],[49.210622,16.598315],[49.21059,16.598337],[49.21055,16.598361],[49.210525,16.598377],[49.210492,16.598399],[49.210451,16.598417],[49.210415,16.598439],[49.21043,16.598541],[49.21045,16.598632],[49.210485,16.59882],[49.21052,16.599018],[49.21056,16.599225],[49.210587,16.599351],[49.210555,16.59945],[49.21052,16.599571],[49.210474,16.599718],[49.21045,16.59978],[49.210408,16.599815],[49.210364,16.599842],[49.210324,16.599863],[49.21028,16.599884],[49.210239,16.599914],[49.210194,16.599941],[49.210154,16.599957],[49.210115,16.599981],[49.210075,16.600005],[49.210036,16.600027],[49.210003,16.600045],[49.209961,16.60007],[49.20991,16.600096],[49.209872,16.600121],[49.209833,16.600139],[49.209816,16.600078],[49.209795,16.600008],[49.209767,16.599917],[49.209733,16.599815],[49.209707,16.599726],[49.209682,16.599651],[49.209659,16.599581],[49.209632,16.599485],[49.209602,16.599388],[49.20957,16.599292],[49.209541,16.599206],[49.209516,16.599133],[49.209496,16.599077],[49.209525,16.59904],[49.209553,16.598991]]};function E(t,e){var a=y(t[1]),n=y(t[0]),o=y(e[1]),r=y(e[0]),s=r-n,i=o-a,l=Math.pow(Math.sin(s/2),2)+Math.cos(n)*Math.cos(r)*Math.pow(Math.sin(i/2),2);return 6371*(2*Math.asin(Math.sqrt(l)))*1e3}function y(t){return t*Math.PI/180}var j=(document.URL.split("#").length>1?document.URL.split("#")[1]:"").includes("&mouse"),w=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={center:t.shape[0],zoom:17,location:null,points:[],pointId:0,drawing:!1,wasCloseToStart:!1,error:null,nickname:"",completed:!1},t.requestLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t.gotLocation,(function(){t.setState({error:"P\u0159\xedstup k poloze byl odep\u0159en"})})):t.setState({error:"Za\u0159\xedzen\xed nepodporuje sledov\xe1n\xed polohy"})},t.gotLocation=function(e){j||t.positionChanged([e.coords.latitude,e.coords.longitude]),t.requestLocation()},t}return Object(l.a)(a,[{key:"positionChanged",value:function(t){var e={};this.state.drawing&&(this.state.points.push(t),e.points=Object(u.a)(this.state.points),this.state.pointId<this.shape.length&&E(t,this.shape[this.state.pointId])<10&&(e.pointId=this.state.pointId+1)),!this.state.wasCloseToStart&&E(this.shape[0],t)<=10&&(e.wasCloseToStart=!0),e.location=t,this.setState(e)}},{key:"shape",get:function(){var t=(document.URL.split("#").length>1?document.URL.split("#")[1]:"").split("&")[0],e=", dostupn\xe9 tvary jsou "+Object.keys(f).join(", ");return 0===t.length?(this.setState({error:"V adrese chyb\xed n\xe1zev tvaru"+e}),[]):f[t]?f[t]:(this.setState({error:"Vybran\xfd tvar neexistuje"+e}),[])}},{key:"componentDidMount",value:function(){this.requestLocation()}},{key:"render",value:function(){var t=this;return this.state.error?o.a.createElement("div",{className:"errorWrapper"},o.a.createElement("div",{className:"alert alert-danger",role:"alert"},o.a.createElement("p",null,"Vypad\xe1 to, \u017ee se n\u011bco nepovedlo. Pros\xedm obnovte str\xe1nku a zkuste to znovu."),o.a.createElement("p",null,o.a.createElement("strong",null,this.state.error)),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return window.location.reload()}},"Obnovit str\xe1nku"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{viewport:{center:this.state.center,zoom:this.state.zoom},zoomControl:!1,onmousemove:function(e){j&&t.positionChanged([e.latlng.lat,e.latlng.lng])},onViewportChange:function(e){t.setState({center:e.center,zoom:e.zoom})},maxZoom:20},o.a.createElement(g.a,{position:"topright"}),o.a.createElement(v.a,{url:"https://mapserver.mapy.cz/ophoto-m/{z}-{x}-{y}",opacity:.3}),o.a.createElement(k.a,{color:"black",positions:this.shape.filter((function(e,a){return a<=t.state.pointId-4}))}),o.a.createElement(k.a,{color:"black",positions:this.shape.filter((function(e,a){return a<=t.state.pointId&&a>=t.state.pointId-4})),className:"dashed"}),o.a.createElement(k.a,{color:"#7579EE",positions:this.state.points,opacity:.2,weight:30}),this.state.location&&o.a.createElement(b.a,{center:this.state.location,radius:15,color:"transparent",fillColor:"#7579EE",fillOpacity:.5}),0===this.state.pointId&&o.a.createElement(b.a,{center:this.shape[this.state.pointId],radius:15,color:"transparent",fillColor:"black",fillOpacity:.8}),o.a.createElement("img",{src:"/GpsDraw/assets/ostrovy-logo.png",alt:"Ostrovy pohody",className:"logoOp"}),o.a.createElement("img",{src:"/GpsDraw/assets/duha-logo.png",alt:"Duha AZ",className:"logoDuha"})),o.a.createElement("div",{className:"notification"},this.state.drawing&&this.state.pointId===this.shape.length&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"U\u017e jsi skoro u c\xedle! A\u017e bude\u0161 cht\xedt ukon\u010dit tvar, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko a dokon\u010dit obrazec"),o.a.createElement("p",null,"Abychom v\u011bd\u011bli, kdo n\xe1m to nakreslil, napi\u0161 n\xe1m, pros\xedm, svoje jm\xe9no"),o.a.createElement("div",{className:"form-floating mb-3"},o.a.createElement("input",{type:"text",className:"form-control",id:"floatingInput",placeholder:"Tvoje k\u0159estn\xed jm\xe9no",onChange:function(e){return t.setState({nickname:e.target.value})},value:this.state.nickname}),o.a.createElement("label",{htmlFor:"floatingInput"},"Tvoje k\u0159estn\xed jm\xe9no")),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){h.a.post("".concat("https://gps-draw.herokuapp.com","/save"),{points:t.state.points,shape:t.shape,nickname:encodeURIComponent(t.state.nickname)},{}).then((function(t){console.log(t)})).catch((function(t){console.log(t)})),t.setState({drawing:!1,completed:!0})}},"Dokon\u010dit obrazec")),!this.state.drawing&&0===this.state.pointId&&this.state.wasCloseToStart&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},o.a.createElement("p",null,"V\xedtej! U\u017e jsi skoro na startu. A\u017e bude\u0161 cht\xedt za\u010d\xedt, m\u016f\u017ee\u0161 kliknout na tla\u010d\xedtko a za\u010d\xedt objevovat"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({drawing:!0})}},"Za\u010d\xedt odkr\xfdvat")),this.state.completed&&o.a.createElement("div",{className:"alert alert-success",role:"alert"},"Gratulujeme! M\u016f\u017ee\u0161 se vr\xe1tit k ohni a uk\xe1zat n\xe1m, co jsi zvl\xe1dl(a) objevit.")))}}]),a}(o.a.Component),z=(a(57),function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,null))}}]),a}(o.a.Component));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.42693d66.chunk.js.map